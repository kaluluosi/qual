# 2023年9月19日

## SSO接入的问题

XY的SSO可能并不是一个标准的SSO，而是通过一个接口，将用户信息返回给客户端，客户端再进行登录。

因此无法直接后端接口层面一个接口解决掉整个SSO登录认证。

VUE前端如果要用XY SSO认证，那么他需要走另一个流程：

1. 前端调用后端的 `xysso` 接口， 比如 `/xysso?redirect_url=https://127.0.0.1:8000/login`
2. 后端返回 `XYSSO` 的登录页地址（带重定向），前端拿到地址就打开新页面跳转到该地址。
3. 用户在XY SSO登录页进行登录，登录成功后，XY SSO会重定向到 `redirect_url` 指定的地址，并附带一个 `code` 查询参数。
4. VUE前端通过重定向的 `code` 参数，调用后端 `xysso_token` 接口，获取到用户的 `token`，并保存在 `localStorage`
   
